{"version":3,"sources":["../node_modules/webcomponentsjs/micro.js","../src/core/webcomponents/dropdowns.js"],"names":["window","WebComponents","flags","file","script","document","querySelector","noOpts","location","search","slice","split","forEach","option","match","parts","a","i","attributes","name","value","log","f","register","CustomElements","WeakMap","defineProperty","Object","counter","Date","now","this","Math","random","prototype","set","key","entry","writable","get","undefined","delete","has","global","scheduleCallback","observer","scheduledObservers","push","isScheduled","setImmediate","dispatchCallbacks","wrapIfNeeded","node","ShadowDOMPolyfill","observers","sort","o1","o2","uid_","anyNonEmpty","queue","takeRecords","removeTransientObserversFor","length","callback_","nodes_","registrations","registrationsTable","registration","removeTransientObservers","forEachAncestorAndObserverEnqueueRecord","target","callback","parentNode","j","options","subtree","record","enqueue","JsMutationObserver","records_","uidCounter","MutationRecord","type","addedNodes","removedNodes","previousSibling","nextSibling","attributeName","attributeNamespace","oldValue","copyMutationRecord","original","getRecord","currentRecord","getRecordWithOldValue","recordWithOldValue","clearRecords","recordRepresentsCurrentMutation","selectRecord","lastRecord","newRecord","Registration","transientObservedNodes","test","navigator","userAgent","setTimeout","setImmediateQueue","sentinel","String","addEventListener","e","data","func","postMessage","observe","childList","characterData","attributeOldValue","attributeFilter","characterDataOldValue","SyntaxError","removeListeners","addListeners","disconnect","splice","copyOfRecords","records","recordToReplaceLast","addListeners_","removeListeners_","removeEventListener","addTransientObserver","handleEvent","stopImmediatePropagation","attrName","namespace","relatedNode","namespaceURI","attrChange","MutationEvent","ADDITION","prevValue","indexOf","changedNode","MutationObserver","_isPolyfilled","self","escapeReplace","c","escapeData","s","replace","escapeDataRegExp","needsTemplate","HTMLTemplateElement","needsCloning","frag","createDocumentFragment","t","createElement","appendChild","content","clone","cloneNode","firstChild","childNodes","TEMPLATE_TAG","TemplateImpl","contentDoc","implementation","createHTMLDocument","canDecorate","templateStyle","textContent","head","insertBefore","firstElementChild","create","HTMLElement","decorate","template","child","o","outerHTML","text","body","innerHTML","bootstrap","removeChild","configurable","deep","err","doc","templates","querySelectorAll","l","el","apply","arguments","localName","nativeCloneNode","Node","call","fixClonedDom","source","s$","t$","replaceChild","originalImportNode","importNode","dom","element","scope","performance","start","requestAnimationFrame","nativeRaf","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","id","clearTimeout","workingDefaultPrevented","createEvent","initEvent","preventDefault","defaultPrevented","origPreventDefault","Event","cancelable","isIE","CustomEvent","inType","params","initCustomEvent","Boolean","bubbles","detail","origEvent","modules","addModule","module","initializeModules","hasNative","registerElement","useNative","HTMLImports","forSubtree","cb","findAllElements","forRoots","find","nodeType","ELEMENT_NODE","nextElementSibling","root","shadowRoot","olderShadowRoot","forDocumentTree","_forDocumentTree","processingDocuments","wrap","n","imports","IMPORT_LINK_TYPE","import","addedNode","isAttached","added","addedSubtree","upgrade","attached","deferMutation","fn","pendingMutations","isPendingMutations","takeMutations","p","$p","hasThrottledAttached","_attached","__upgraded__","__attached","attachedCallback","detachedNode","detached","_detached","detachedCallback","inDocument","DOCUMENT_FRAGMENT_NODE","host","watchShadow","__watched","console","handler","mutations","mx","d","u","URL","_URL","shift","pop","group","groupEnd","__observer","inRoot","bind","upgradeDocument","baseURI","isMainDocument","upgradeDocumentTree","hasPolyfillMutations","Array","originalCreateShadowRoot","Element","createShadowRoot","upgradeSubtree","upgradeAll","is","getAttribute","definition","getRegisteredDefinition","tag","extends","upgradeWithDefinition","setAttribute","implementPrototype","created","__proto__","customMixin","native","inTarget","inSrc","inNative","used","k","keys","getOwnPropertyNames","getOwnPropertyDescriptor","getPrototypeOf","createdCallback","Error","isReservedTag","__name","toLowerCase","lifecycle","ancestry","resolveTagName","resolvePrototypeChain","overrideAttributeApi","registerDefinition","ctor","generateConstructor","constructor","ready","_polyfilled","changeAttribute","removeAttribute","operation","newValue","attributeChangedCallback","reservedTagList","extnds","extendee","concat","baseTag","nativePrototype","inst","ancestor","proto","foundPrototype","warn","instantiate","domCreateElement","registry","createElementNS","typeExtension","HTML_NAMESPACE","domCreateElementNS","wrapDomMethodToForceUpgrade","obj","methodName","orig","isInstance","base","instanceof","readyTime","elapsed","dispatchEvent","nop","unwrap","unwrapIfNeeded","__importsParsingHook","elt","readyState","eager","attachEvent","loadEvent","style","prepAll","prepContent","handleClick","insideElementWithClass","classList","contains","parentElement","stopPropagation","dropdown","hasHeightTransition","getComputedStyle","transitionProperty","dropdownProto","dropdownButtonTemplate","dropdownAnchorTemplate","iconTemplate","isSafari","vendor","add","animating","open","buttonClass","maxRetries","children","getElementsByClassName","button","list","temp","hasAttribute","getElementsByTagName","closeDropdown","listAnimated","removedCallback","oldVal","newVal","icon","remove","openDropdown","height","offsetHeight","wait","setInterval","clearInterval","transition","removeProperty"],"mappings":"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","file":"blueprints.min.js","sourcesContent":["/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n// @version 0.7.21\n(function() {\n  window.WebComponents = window.WebComponents || {\n    flags: {}\n  };\n  var file = \"webcomponents-micro.js\";\n  var script = document.querySelector('script[src*=\"' + file + '\"]');\n  var flags = {};\n  if (!flags.noOpts) {\n    location.search.slice(1).split(\"&\").forEach(function(option) {\n      var parts = option.split(\"=\");\n      var match;\n      if (parts[0] && (match = parts[0].match(/wc-(.+)/))) {\n        flags[match[1]] = parts[1] || true;\n      }\n    });\n    if (script) {\n      for (var i = 0, a; a = script.attributes[i]; i++) {\n        if (a.name !== \"src\") {\n          flags[a.name] = a.value || true;\n        }\n      }\n    }\n    if (flags.log && flags.log.split) {\n      var parts = flags.log.split(\",\");\n      flags.log = {};\n      parts.forEach(function(f) {\n        flags.log[f] = true;\n      });\n    } else {\n      flags.log = {};\n    }\n  }\n  if (flags.register) {\n    window.CustomElements = window.CustomElements || {\n      flags: {}\n    };\n    window.CustomElements.flags.register = flags.register;\n  }\n  WebComponents.flags = flags;\n})();\n\nif (typeof WeakMap === \"undefined\") {\n  (function() {\n    var defineProperty = Object.defineProperty;\n    var counter = Date.now() % 1e9;\n    var WeakMap = function() {\n      this.name = \"__st\" + (Math.random() * 1e9 >>> 0) + (counter++ + \"__\");\n    };\n    WeakMap.prototype = {\n      set: function(key, value) {\n        var entry = key[this.name];\n        if (entry && entry[0] === key) entry[1] = value; else defineProperty(key, this.name, {\n          value: [ key, value ],\n          writable: true\n        });\n        return this;\n      },\n      get: function(key) {\n        var entry;\n        return (entry = key[this.name]) && entry[0] === key ? entry[1] : undefined;\n      },\n      \"delete\": function(key) {\n        var entry = key[this.name];\n        if (!entry || entry[0] !== key) return false;\n        entry[0] = entry[1] = undefined;\n        return true;\n      },\n      has: function(key) {\n        var entry = key[this.name];\n        if (!entry) return false;\n        return entry[0] === key;\n      }\n    };\n    window.WeakMap = WeakMap;\n  })();\n}\n\n(function(global) {\n  if (global.JsMutationObserver) {\n    return;\n  }\n  var registrationsTable = new WeakMap();\n  var setImmediate;\n  if (/Trident|Edge/.test(navigator.userAgent)) {\n    setImmediate = setTimeout;\n  } else if (window.setImmediate) {\n    setImmediate = window.setImmediate;\n  } else {\n    var setImmediateQueue = [];\n    var sentinel = String(Math.random());\n    window.addEventListener(\"message\", function(e) {\n      if (e.data === sentinel) {\n        var queue = setImmediateQueue;\n        setImmediateQueue = [];\n        queue.forEach(function(func) {\n          func();\n        });\n      }\n    });\n    setImmediate = function(func) {\n      setImmediateQueue.push(func);\n      window.postMessage(sentinel, \"*\");\n    };\n  }\n  var isScheduled = false;\n  var scheduledObservers = [];\n  function scheduleCallback(observer) {\n    scheduledObservers.push(observer);\n    if (!isScheduled) {\n      isScheduled = true;\n      setImmediate(dispatchCallbacks);\n    }\n  }\n  function wrapIfNeeded(node) {\n    return window.ShadowDOMPolyfill && window.ShadowDOMPolyfill.wrapIfNeeded(node) || node;\n  }\n  function dispatchCallbacks() {\n    isScheduled = false;\n    var observers = scheduledObservers;\n    scheduledObservers = [];\n    observers.sort(function(o1, o2) {\n      return o1.uid_ - o2.uid_;\n    });\n    var anyNonEmpty = false;\n    observers.forEach(function(observer) {\n      var queue = observer.takeRecords();\n      removeTransientObserversFor(observer);\n      if (queue.length) {\n        observer.callback_(queue, observer);\n        anyNonEmpty = true;\n      }\n    });\n    if (anyNonEmpty) dispatchCallbacks();\n  }\n  function removeTransientObserversFor(observer) {\n    observer.nodes_.forEach(function(node) {\n      var registrations = registrationsTable.get(node);\n      if (!registrations) return;\n      registrations.forEach(function(registration) {\n        if (registration.observer === observer) registration.removeTransientObservers();\n      });\n    });\n  }\n  function forEachAncestorAndObserverEnqueueRecord(target, callback) {\n    for (var node = target; node; node = node.parentNode) {\n      var registrations = registrationsTable.get(node);\n      if (registrations) {\n        for (var j = 0; j < registrations.length; j++) {\n          var registration = registrations[j];\n          var options = registration.options;\n          if (node !== target && !options.subtree) continue;\n          var record = callback(options);\n          if (record) registration.enqueue(record);\n        }\n      }\n    }\n  }\n  var uidCounter = 0;\n  function JsMutationObserver(callback) {\n    this.callback_ = callback;\n    this.nodes_ = [];\n    this.records_ = [];\n    this.uid_ = ++uidCounter;\n  }\n  JsMutationObserver.prototype = {\n    observe: function(target, options) {\n      target = wrapIfNeeded(target);\n      if (!options.childList && !options.attributes && !options.characterData || options.attributeOldValue && !options.attributes || options.attributeFilter && options.attributeFilter.length && !options.attributes || options.characterDataOldValue && !options.characterData) {\n        throw new SyntaxError();\n      }\n      var registrations = registrationsTable.get(target);\n      if (!registrations) registrationsTable.set(target, registrations = []);\n      var registration;\n      for (var i = 0; i < registrations.length; i++) {\n        if (registrations[i].observer === this) {\n          registration = registrations[i];\n          registration.removeListeners();\n          registration.options = options;\n          break;\n        }\n      }\n      if (!registration) {\n        registration = new Registration(this, target, options);\n        registrations.push(registration);\n        this.nodes_.push(target);\n      }\n      registration.addListeners();\n    },\n    disconnect: function() {\n      this.nodes_.forEach(function(node) {\n        var registrations = registrationsTable.get(node);\n        for (var i = 0; i < registrations.length; i++) {\n          var registration = registrations[i];\n          if (registration.observer === this) {\n            registration.removeListeners();\n            registrations.splice(i, 1);\n            break;\n          }\n        }\n      }, this);\n      this.records_ = [];\n    },\n    takeRecords: function() {\n      var copyOfRecords = this.records_;\n      this.records_ = [];\n      return copyOfRecords;\n    }\n  };\n  function MutationRecord(type, target) {\n    this.type = type;\n    this.target = target;\n    this.addedNodes = [];\n    this.removedNodes = [];\n    this.previousSibling = null;\n    this.nextSibling = null;\n    this.attributeName = null;\n    this.attributeNamespace = null;\n    this.oldValue = null;\n  }\n  function copyMutationRecord(original) {\n    var record = new MutationRecord(original.type, original.target);\n    record.addedNodes = original.addedNodes.slice();\n    record.removedNodes = original.removedNodes.slice();\n    record.previousSibling = original.previousSibling;\n    record.nextSibling = original.nextSibling;\n    record.attributeName = original.attributeName;\n    record.attributeNamespace = original.attributeNamespace;\n    record.oldValue = original.oldValue;\n    return record;\n  }\n  var currentRecord, recordWithOldValue;\n  function getRecord(type, target) {\n    return currentRecord = new MutationRecord(type, target);\n  }\n  function getRecordWithOldValue(oldValue) {\n    if (recordWithOldValue) return recordWithOldValue;\n    recordWithOldValue = copyMutationRecord(currentRecord);\n    recordWithOldValue.oldValue = oldValue;\n    return recordWithOldValue;\n  }\n  function clearRecords() {\n    currentRecord = recordWithOldValue = undefined;\n  }\n  function recordRepresentsCurrentMutation(record) {\n    return record === recordWithOldValue || record === currentRecord;\n  }\n  function selectRecord(lastRecord, newRecord) {\n    if (lastRecord === newRecord) return lastRecord;\n    if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord)) return recordWithOldValue;\n    return null;\n  }\n  function Registration(observer, target, options) {\n    this.observer = observer;\n    this.target = target;\n    this.options = options;\n    this.transientObservedNodes = [];\n  }\n  Registration.prototype = {\n    enqueue: function(record) {\n      var records = this.observer.records_;\n      var length = records.length;\n      if (records.length > 0) {\n        var lastRecord = records[length - 1];\n        var recordToReplaceLast = selectRecord(lastRecord, record);\n        if (recordToReplaceLast) {\n          records[length - 1] = recordToReplaceLast;\n          return;\n        }\n      } else {\n        scheduleCallback(this.observer);\n      }\n      records[length] = record;\n    },\n    addListeners: function() {\n      this.addListeners_(this.target);\n    },\n    addListeners_: function(node) {\n      var options = this.options;\n      if (options.attributes) node.addEventListener(\"DOMAttrModified\", this, true);\n      if (options.characterData) node.addEventListener(\"DOMCharacterDataModified\", this, true);\n      if (options.childList) node.addEventListener(\"DOMNodeInserted\", this, true);\n      if (options.childList || options.subtree) node.addEventListener(\"DOMNodeRemoved\", this, true);\n    },\n    removeListeners: function() {\n      this.removeListeners_(this.target);\n    },\n    removeListeners_: function(node) {\n      var options = this.options;\n      if (options.attributes) node.removeEventListener(\"DOMAttrModified\", this, true);\n      if (options.characterData) node.removeEventListener(\"DOMCharacterDataModified\", this, true);\n      if (options.childList) node.removeEventListener(\"DOMNodeInserted\", this, true);\n      if (options.childList || options.subtree) node.removeEventListener(\"DOMNodeRemoved\", this, true);\n    },\n    addTransientObserver: function(node) {\n      if (node === this.target) return;\n      this.addListeners_(node);\n      this.transientObservedNodes.push(node);\n      var registrations = registrationsTable.get(node);\n      if (!registrations) registrationsTable.set(node, registrations = []);\n      registrations.push(this);\n    },\n    removeTransientObservers: function() {\n      var transientObservedNodes = this.transientObservedNodes;\n      this.transientObservedNodes = [];\n      transientObservedNodes.forEach(function(node) {\n        this.removeListeners_(node);\n        var registrations = registrationsTable.get(node);\n        for (var i = 0; i < registrations.length; i++) {\n          if (registrations[i] === this) {\n            registrations.splice(i, 1);\n            break;\n          }\n        }\n      }, this);\n    },\n    handleEvent: function(e) {\n      e.stopImmediatePropagation();\n      switch (e.type) {\n       case \"DOMAttrModified\":\n        var name = e.attrName;\n        var namespace = e.relatedNode.namespaceURI;\n        var target = e.target;\n        var record = new getRecord(\"attributes\", target);\n        record.attributeName = name;\n        record.attributeNamespace = namespace;\n        var oldValue = e.attrChange === MutationEvent.ADDITION ? null : e.prevValue;\n        forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n          if (!options.attributes) return;\n          if (options.attributeFilter && options.attributeFilter.length && options.attributeFilter.indexOf(name) === -1 && options.attributeFilter.indexOf(namespace) === -1) {\n            return;\n          }\n          if (options.attributeOldValue) return getRecordWithOldValue(oldValue);\n          return record;\n        });\n        break;\n\n       case \"DOMCharacterDataModified\":\n        var target = e.target;\n        var record = getRecord(\"characterData\", target);\n        var oldValue = e.prevValue;\n        forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n          if (!options.characterData) return;\n          if (options.characterDataOldValue) return getRecordWithOldValue(oldValue);\n          return record;\n        });\n        break;\n\n       case \"DOMNodeRemoved\":\n        this.addTransientObserver(e.target);\n\n       case \"DOMNodeInserted\":\n        var changedNode = e.target;\n        var addedNodes, removedNodes;\n        if (e.type === \"DOMNodeInserted\") {\n          addedNodes = [ changedNode ];\n          removedNodes = [];\n        } else {\n          addedNodes = [];\n          removedNodes = [ changedNode ];\n        }\n        var previousSibling = changedNode.previousSibling;\n        var nextSibling = changedNode.nextSibling;\n        var record = getRecord(\"childList\", e.target.parentNode);\n        record.addedNodes = addedNodes;\n        record.removedNodes = removedNodes;\n        record.previousSibling = previousSibling;\n        record.nextSibling = nextSibling;\n        forEachAncestorAndObserverEnqueueRecord(e.relatedNode, function(options) {\n          if (!options.childList) return;\n          return record;\n        });\n      }\n      clearRecords();\n    }\n  };\n  global.JsMutationObserver = JsMutationObserver;\n  if (!global.MutationObserver) {\n    global.MutationObserver = JsMutationObserver;\n    JsMutationObserver._isPolyfilled = true;\n  }\n})(self);\n\n(function() {\n  var needsTemplate = typeof HTMLTemplateElement === \"undefined\";\n  var needsCloning = function() {\n    if (!needsTemplate) {\n      var frag = document.createDocumentFragment();\n      var t = document.createElement(\"template\");\n      frag.appendChild(t);\n      t.content.appendChild(document.createElement(\"div\"));\n      var clone = frag.cloneNode(true);\n      return clone.firstChild.content.childNodes.length === 0;\n    }\n  }();\n  var TEMPLATE_TAG = \"template\";\n  var TemplateImpl = function() {};\n  if (needsTemplate) {\n    var contentDoc = document.implementation.createHTMLDocument(\"template\");\n    var canDecorate = true;\n    var templateStyle = document.createElement(\"style\");\n    templateStyle.textContent = TEMPLATE_TAG + \"{display:none;}\";\n    var head = document.head;\n    head.insertBefore(templateStyle, head.firstElementChild);\n    TemplateImpl.prototype = Object.create(HTMLElement.prototype);\n    TemplateImpl.decorate = function(template) {\n      if (template.content) {\n        return;\n      }\n      template.content = contentDoc.createDocumentFragment();\n      var child;\n      while (child = template.firstChild) {\n        template.content.appendChild(child);\n      }\n      if (canDecorate) {\n        try {\n          Object.defineProperty(template, \"innerHTML\", {\n            get: function() {\n              var o = \"\";\n              for (var e = this.content.firstChild; e; e = e.nextSibling) {\n                o += e.outerHTML || escapeData(e.data);\n              }\n              return o;\n            },\n            set: function(text) {\n              contentDoc.body.innerHTML = text;\n              TemplateImpl.bootstrap(contentDoc);\n              while (this.content.firstChild) {\n                this.content.removeChild(this.content.firstChild);\n              }\n              while (contentDoc.body.firstChild) {\n                this.content.appendChild(contentDoc.body.firstChild);\n              }\n            },\n            configurable: true\n          });\n          template.cloneNode = function(deep) {\n            return TemplateImpl.cloneNode(this, deep);\n          };\n        } catch (err) {\n          canDecorate = false;\n        }\n      }\n      TemplateImpl.bootstrap(template.content);\n    };\n    TemplateImpl.bootstrap = function(doc) {\n      var templates = doc.querySelectorAll(TEMPLATE_TAG);\n      for (var i = 0, l = templates.length, t; i < l && (t = templates[i]); i++) {\n        TemplateImpl.decorate(t);\n      }\n    };\n    document.addEventListener(\"DOMContentLoaded\", function() {\n      TemplateImpl.bootstrap(document);\n    });\n    var createElement = document.createElement;\n    document.createElement = function() {\n      \"use strict\";\n      var el = createElement.apply(document, arguments);\n      if (el.localName == \"template\") {\n        TemplateImpl.decorate(el);\n      }\n      return el;\n    };\n    var escapeDataRegExp = /[&\\u00A0<>]/g;\n    function escapeReplace(c) {\n      switch (c) {\n       case \"&\":\n        return \"&amp;\";\n\n       case \"<\":\n        return \"&lt;\";\n\n       case \">\":\n        return \"&gt;\";\n\n       case \" \":\n        return \"&nbsp;\";\n      }\n    }\n    function escapeData(s) {\n      return s.replace(escapeDataRegExp, escapeReplace);\n    }\n  }\n  if (needsTemplate || needsCloning) {\n    var nativeCloneNode = Node.prototype.cloneNode;\n    TemplateImpl.cloneNode = function(template, deep) {\n      var clone = nativeCloneNode.call(template);\n      if (this.decorate) {\n        this.decorate(clone);\n      }\n      if (deep) {\n        clone.content.appendChild(nativeCloneNode.call(template.content, true));\n        this.fixClonedDom(clone.content, template.content);\n      }\n      return clone;\n    };\n    TemplateImpl.fixClonedDom = function(clone, source) {\n      if (!source.querySelectorAll) return;\n      var s$ = source.querySelectorAll(TEMPLATE_TAG);\n      var t$ = clone.querySelectorAll(TEMPLATE_TAG);\n      for (var i = 0, l = t$.length, t, s; i < l; i++) {\n        s = s$[i];\n        t = t$[i];\n        if (this.decorate) {\n          this.decorate(s);\n        }\n        t.parentNode.replaceChild(s.cloneNode(true), t);\n      }\n    };\n    var originalImportNode = document.importNode;\n    Node.prototype.cloneNode = function(deep) {\n      var dom = nativeCloneNode.call(this, deep);\n      if (deep) {\n        TemplateImpl.fixClonedDom(dom, this);\n      }\n      return dom;\n    };\n    document.importNode = function(element, deep) {\n      if (element.localName === TEMPLATE_TAG) {\n        return TemplateImpl.cloneNode(element, deep);\n      } else {\n        var dom = originalImportNode.call(document, element, deep);\n        if (deep) {\n          TemplateImpl.fixClonedDom(dom, element);\n        }\n        return dom;\n      }\n    };\n    if (needsCloning) {\n      HTMLTemplateElement.prototype.cloneNode = function(deep) {\n        return TemplateImpl.cloneNode(this, deep);\n      };\n    }\n  }\n  if (needsTemplate) {\n    window.HTMLTemplateElement = TemplateImpl;\n  }\n})();\n\n(function(scope) {\n  \"use strict\";\n  if (!window.performance) {\n    var start = Date.now();\n    window.performance = {\n      now: function() {\n        return Date.now() - start;\n      }\n    };\n  }\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function() {\n      var nativeRaf = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n      return nativeRaf ? function(callback) {\n        return nativeRaf(function() {\n          callback(performance.now());\n        });\n      } : function(callback) {\n        return window.setTimeout(callback, 1e3 / 60);\n      };\n    }();\n  }\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function() {\n      return window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || function(id) {\n        clearTimeout(id);\n      };\n    }();\n  }\n  var workingDefaultPrevented = function() {\n    var e = document.createEvent(\"Event\");\n    e.initEvent(\"foo\", true, true);\n    e.preventDefault();\n    return e.defaultPrevented;\n  }();\n  if (!workingDefaultPrevented) {\n    var origPreventDefault = Event.prototype.preventDefault;\n    Event.prototype.preventDefault = function() {\n      if (!this.cancelable) {\n        return;\n      }\n      origPreventDefault.call(this);\n      Object.defineProperty(this, \"defaultPrevented\", {\n        get: function() {\n          return true;\n        },\n        configurable: true\n      });\n    };\n  }\n  var isIE = /Trident/.test(navigator.userAgent);\n  if (!window.CustomEvent || isIE && typeof window.CustomEvent !== \"function\") {\n    window.CustomEvent = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent(\"CustomEvent\");\n      e.initCustomEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable), params.detail);\n      return e;\n    };\n    window.CustomEvent.prototype = window.Event.prototype;\n  }\n  if (!window.Event || isIE && typeof window.Event !== \"function\") {\n    var origEvent = window.Event;\n    window.Event = function(inType, params) {\n      params = params || {};\n      var e = document.createEvent(\"Event\");\n      e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n      return e;\n    };\n    window.Event.prototype = origEvent.prototype;\n  }\n})(window.WebComponents);\n\nwindow.CustomElements = window.CustomElements || {\n  flags: {}\n};\n\n(function(scope) {\n  var flags = scope.flags;\n  var modules = [];\n  var addModule = function(module) {\n    modules.push(module);\n  };\n  var initializeModules = function() {\n    modules.forEach(function(module) {\n      module(scope);\n    });\n  };\n  scope.addModule = addModule;\n  scope.initializeModules = initializeModules;\n  scope.hasNative = Boolean(document.registerElement);\n  scope.isIE = /Trident/.test(navigator.userAgent);\n  scope.useNative = !flags.register && scope.hasNative && !window.ShadowDOMPolyfill && (!window.HTMLImports || window.HTMLImports.useNative);\n})(window.CustomElements);\n\nwindow.CustomElements.addModule(function(scope) {\n  var IMPORT_LINK_TYPE = window.HTMLImports ? window.HTMLImports.IMPORT_LINK_TYPE : \"none\";\n  function forSubtree(node, cb) {\n    findAllElements(node, function(e) {\n      if (cb(e)) {\n        return true;\n      }\n      forRoots(e, cb);\n    });\n    forRoots(node, cb);\n  }\n  function findAllElements(node, find, data) {\n    var e = node.firstElementChild;\n    if (!e) {\n      e = node.firstChild;\n      while (e && e.nodeType !== Node.ELEMENT_NODE) {\n        e = e.nextSibling;\n      }\n    }\n    while (e) {\n      if (find(e, data) !== true) {\n        findAllElements(e, find, data);\n      }\n      e = e.nextElementSibling;\n    }\n    return null;\n  }\n  function forRoots(node, cb) {\n    var root = node.shadowRoot;\n    while (root) {\n      forSubtree(root, cb);\n      root = root.olderShadowRoot;\n    }\n  }\n  function forDocumentTree(doc, cb) {\n    _forDocumentTree(doc, cb, []);\n  }\n  function _forDocumentTree(doc, cb, processingDocuments) {\n    doc = window.wrap(doc);\n    if (processingDocuments.indexOf(doc) >= 0) {\n      return;\n    }\n    processingDocuments.push(doc);\n    var imports = doc.querySelectorAll(\"link[rel=\" + IMPORT_LINK_TYPE + \"]\");\n    for (var i = 0, l = imports.length, n; i < l && (n = imports[i]); i++) {\n      if (n.import) {\n        _forDocumentTree(n.import, cb, processingDocuments);\n      }\n    }\n    cb(doc);\n  }\n  scope.forDocumentTree = forDocumentTree;\n  scope.forSubtree = forSubtree;\n});\n\nwindow.CustomElements.addModule(function(scope) {\n  var flags = scope.flags;\n  var forSubtree = scope.forSubtree;\n  var forDocumentTree = scope.forDocumentTree;\n  function addedNode(node, isAttached) {\n    return added(node, isAttached) || addedSubtree(node, isAttached);\n  }\n  function added(node, isAttached) {\n    if (scope.upgrade(node, isAttached)) {\n      return true;\n    }\n    if (isAttached) {\n      attached(node);\n    }\n  }\n  function addedSubtree(node, isAttached) {\n    forSubtree(node, function(e) {\n      if (added(e, isAttached)) {\n        return true;\n      }\n    });\n  }\n  var hasThrottledAttached = window.MutationObserver._isPolyfilled && flags[\"throttle-attached\"];\n  scope.hasPolyfillMutations = hasThrottledAttached;\n  scope.hasThrottledAttached = hasThrottledAttached;\n  var isPendingMutations = false;\n  var pendingMutations = [];\n  function deferMutation(fn) {\n    pendingMutations.push(fn);\n    if (!isPendingMutations) {\n      isPendingMutations = true;\n      setTimeout(takeMutations);\n    }\n  }\n  function takeMutations() {\n    isPendingMutations = false;\n    var $p = pendingMutations;\n    for (var i = 0, l = $p.length, p; i < l && (p = $p[i]); i++) {\n      p();\n    }\n    pendingMutations = [];\n  }\n  function attached(element) {\n    if (hasThrottledAttached) {\n      deferMutation(function() {\n        _attached(element);\n      });\n    } else {\n      _attached(element);\n    }\n  }\n  function _attached(element) {\n    if (element.__upgraded__ && !element.__attached) {\n      element.__attached = true;\n      if (element.attachedCallback) {\n        element.attachedCallback();\n      }\n    }\n  }\n  function detachedNode(node) {\n    detached(node);\n    forSubtree(node, function(e) {\n      detached(e);\n    });\n  }\n  function detached(element) {\n    if (hasThrottledAttached) {\n      deferMutation(function() {\n        _detached(element);\n      });\n    } else {\n      _detached(element);\n    }\n  }\n  function _detached(element) {\n    if (element.__upgraded__ && element.__attached) {\n      element.__attached = false;\n      if (element.detachedCallback) {\n        element.detachedCallback();\n      }\n    }\n  }\n  function inDocument(element) {\n    var p = element;\n    var doc = window.wrap(document);\n    while (p) {\n      if (p == doc) {\n        return true;\n      }\n      p = p.parentNode || p.nodeType === Node.DOCUMENT_FRAGMENT_NODE && p.host;\n    }\n  }\n  function watchShadow(node) {\n    if (node.shadowRoot && !node.shadowRoot.__watched) {\n      flags.dom && console.log(\"watching shadow-root for: \", node.localName);\n      var root = node.shadowRoot;\n      while (root) {\n        observe(root);\n        root = root.olderShadowRoot;\n      }\n    }\n  }\n  function handler(root, mutations) {\n    if (flags.dom) {\n      var mx = mutations[0];\n      if (mx && mx.type === \"childList\" && mx.addedNodes) {\n        if (mx.addedNodes) {\n          var d = mx.addedNodes[0];\n          while (d && d !== document && !d.host) {\n            d = d.parentNode;\n          }\n          var u = d && (d.URL || d._URL || d.host && d.host.localName) || \"\";\n          u = u.split(\"/?\").shift().split(\"/\").pop();\n        }\n      }\n      console.group(\"mutations (%d) [%s]\", mutations.length, u || \"\");\n    }\n    var isAttached = inDocument(root);\n    mutations.forEach(function(mx) {\n      if (mx.type === \"childList\") {\n        forEach(mx.addedNodes, function(n) {\n          if (!n.localName) {\n            return;\n          }\n          addedNode(n, isAttached);\n        });\n        forEach(mx.removedNodes, function(n) {\n          if (!n.localName) {\n            return;\n          }\n          detachedNode(n);\n        });\n      }\n    });\n    flags.dom && console.groupEnd();\n  }\n  function takeRecords(node) {\n    node = window.wrap(node);\n    if (!node) {\n      node = window.wrap(document);\n    }\n    while (node.parentNode) {\n      node = node.parentNode;\n    }\n    var observer = node.__observer;\n    if (observer) {\n      handler(node, observer.takeRecords());\n      takeMutations();\n    }\n  }\n  var forEach = Array.prototype.forEach.call.bind(Array.prototype.forEach);\n  function observe(inRoot) {\n    if (inRoot.__observer) {\n      return;\n    }\n    var observer = new MutationObserver(handler.bind(this, inRoot));\n    observer.observe(inRoot, {\n      childList: true,\n      subtree: true\n    });\n    inRoot.__observer = observer;\n  }\n  function upgradeDocument(doc) {\n    doc = window.wrap(doc);\n    flags.dom && console.group(\"upgradeDocument: \", doc.baseURI.split(\"/\").pop());\n    var isMainDocument = doc === window.wrap(document);\n    addedNode(doc, isMainDocument);\n    observe(doc);\n    flags.dom && console.groupEnd();\n  }\n  function upgradeDocumentTree(doc) {\n    forDocumentTree(doc, upgradeDocument);\n  }\n  var originalCreateShadowRoot = Element.prototype.createShadowRoot;\n  if (originalCreateShadowRoot) {\n    Element.prototype.createShadowRoot = function() {\n      var root = originalCreateShadowRoot.call(this);\n      window.CustomElements.watchShadow(this);\n      return root;\n    };\n  }\n  scope.watchShadow = watchShadow;\n  scope.upgradeDocumentTree = upgradeDocumentTree;\n  scope.upgradeDocument = upgradeDocument;\n  scope.upgradeSubtree = addedSubtree;\n  scope.upgradeAll = addedNode;\n  scope.attached = attached;\n  scope.takeRecords = takeRecords;\n});\n\nwindow.CustomElements.addModule(function(scope) {\n  var flags = scope.flags;\n  function upgrade(node, isAttached) {\n    if (node.localName === \"template\") {\n      if (window.HTMLTemplateElement && HTMLTemplateElement.decorate) {\n        HTMLTemplateElement.decorate(node);\n      }\n    }\n    if (!node.__upgraded__ && node.nodeType === Node.ELEMENT_NODE) {\n      var is = node.getAttribute(\"is\");\n      var definition = scope.getRegisteredDefinition(node.localName) || scope.getRegisteredDefinition(is);\n      if (definition) {\n        if (is && definition.tag == node.localName || !is && !definition.extends) {\n          return upgradeWithDefinition(node, definition, isAttached);\n        }\n      }\n    }\n  }\n  function upgradeWithDefinition(element, definition, isAttached) {\n    flags.upgrade && console.group(\"upgrade:\", element.localName);\n    if (definition.is) {\n      element.setAttribute(\"is\", definition.is);\n    }\n    implementPrototype(element, definition);\n    element.__upgraded__ = true;\n    created(element);\n    if (isAttached) {\n      scope.attached(element);\n    }\n    scope.upgradeSubtree(element, isAttached);\n    flags.upgrade && console.groupEnd();\n    return element;\n  }\n  function implementPrototype(element, definition) {\n    if (Object.__proto__) {\n      element.__proto__ = definition.prototype;\n    } else {\n      customMixin(element, definition.prototype, definition.native);\n      element.__proto__ = definition.prototype;\n    }\n  }\n  function customMixin(inTarget, inSrc, inNative) {\n    var used = {};\n    var p = inSrc;\n    while (p !== inNative && p !== HTMLElement.prototype) {\n      var keys = Object.getOwnPropertyNames(p);\n      for (var i = 0, k; k = keys[i]; i++) {\n        if (!used[k]) {\n          Object.defineProperty(inTarget, k, Object.getOwnPropertyDescriptor(p, k));\n          used[k] = 1;\n        }\n      }\n      p = Object.getPrototypeOf(p);\n    }\n  }\n  function created(element) {\n    if (element.createdCallback) {\n      element.createdCallback();\n    }\n  }\n  scope.upgrade = upgrade;\n  scope.upgradeWithDefinition = upgradeWithDefinition;\n  scope.implementPrototype = implementPrototype;\n});\n\nwindow.CustomElements.addModule(function(scope) {\n  var isIE = scope.isIE;\n  var upgradeDocumentTree = scope.upgradeDocumentTree;\n  var upgradeAll = scope.upgradeAll;\n  var upgradeWithDefinition = scope.upgradeWithDefinition;\n  var implementPrototype = scope.implementPrototype;\n  var useNative = scope.useNative;\n  function register(name, options) {\n    var definition = options || {};\n    if (!name) {\n      throw new Error(\"document.registerElement: first argument `name` must not be empty\");\n    }\n    if (name.indexOf(\"-\") < 0) {\n      throw new Error(\"document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '\" + String(name) + \"'.\");\n    }\n    if (isReservedTag(name)) {\n      throw new Error(\"Failed to execute 'registerElement' on 'Document': Registration failed for type '\" + String(name) + \"'. The type name is invalid.\");\n    }\n    if (getRegisteredDefinition(name)) {\n      throw new Error(\"DuplicateDefinitionError: a type with name '\" + String(name) + \"' is already registered\");\n    }\n    if (!definition.prototype) {\n      definition.prototype = Object.create(HTMLElement.prototype);\n    }\n    definition.__name = name.toLowerCase();\n    definition.lifecycle = definition.lifecycle || {};\n    definition.ancestry = ancestry(definition.extends);\n    resolveTagName(definition);\n    resolvePrototypeChain(definition);\n    overrideAttributeApi(definition.prototype);\n    registerDefinition(definition.__name, definition);\n    definition.ctor = generateConstructor(definition);\n    definition.ctor.prototype = definition.prototype;\n    definition.prototype.constructor = definition.ctor;\n    if (scope.ready) {\n      upgradeDocumentTree(document);\n    }\n    return definition.ctor;\n  }\n  function overrideAttributeApi(prototype) {\n    if (prototype.setAttribute._polyfilled) {\n      return;\n    }\n    var setAttribute = prototype.setAttribute;\n    prototype.setAttribute = function(name, value) {\n      changeAttribute.call(this, name, value, setAttribute);\n    };\n    var removeAttribute = prototype.removeAttribute;\n    prototype.removeAttribute = function(name) {\n      changeAttribute.call(this, name, null, removeAttribute);\n    };\n    prototype.setAttribute._polyfilled = true;\n  }\n  function changeAttribute(name, value, operation) {\n    name = name.toLowerCase();\n    var oldValue = this.getAttribute(name);\n    operation.apply(this, arguments);\n    var newValue = this.getAttribute(name);\n    if (this.attributeChangedCallback && newValue !== oldValue) {\n      this.attributeChangedCallback(name, oldValue, newValue);\n    }\n  }\n  function isReservedTag(name) {\n    for (var i = 0; i < reservedTagList.length; i++) {\n      if (name === reservedTagList[i]) {\n        return true;\n      }\n    }\n  }\n  var reservedTagList = [ \"annotation-xml\", \"color-profile\", \"font-face\", \"font-face-src\", \"font-face-uri\", \"font-face-format\", \"font-face-name\", \"missing-glyph\" ];\n  function ancestry(extnds) {\n    var extendee = getRegisteredDefinition(extnds);\n    if (extendee) {\n      return ancestry(extendee.extends).concat([ extendee ]);\n    }\n    return [];\n  }\n  function resolveTagName(definition) {\n    var baseTag = definition.extends;\n    for (var i = 0, a; a = definition.ancestry[i]; i++) {\n      baseTag = a.is && a.tag;\n    }\n    definition.tag = baseTag || definition.__name;\n    if (baseTag) {\n      definition.is = definition.__name;\n    }\n  }\n  function resolvePrototypeChain(definition) {\n    if (!Object.__proto__) {\n      var nativePrototype = HTMLElement.prototype;\n      if (definition.is) {\n        var inst = document.createElement(definition.tag);\n        nativePrototype = Object.getPrototypeOf(inst);\n      }\n      var proto = definition.prototype, ancestor;\n      var foundPrototype = false;\n      while (proto) {\n        if (proto == nativePrototype) {\n          foundPrototype = true;\n        }\n        ancestor = Object.getPrototypeOf(proto);\n        if (ancestor) {\n          proto.__proto__ = ancestor;\n        }\n        proto = ancestor;\n      }\n      if (!foundPrototype) {\n        console.warn(definition.tag + \" prototype not found in prototype chain for \" + definition.is);\n      }\n      definition.native = nativePrototype;\n    }\n  }\n  function instantiate(definition) {\n    return upgradeWithDefinition(domCreateElement(definition.tag), definition);\n  }\n  var registry = {};\n  function getRegisteredDefinition(name) {\n    if (name) {\n      return registry[name.toLowerCase()];\n    }\n  }\n  function registerDefinition(name, definition) {\n    registry[name] = definition;\n  }\n  function generateConstructor(definition) {\n    return function() {\n      return instantiate(definition);\n    };\n  }\n  var HTML_NAMESPACE = \"http://www.w3.org/1999/xhtml\";\n  function createElementNS(namespace, tag, typeExtension) {\n    if (namespace === HTML_NAMESPACE) {\n      return createElement(tag, typeExtension);\n    } else {\n      return domCreateElementNS(namespace, tag);\n    }\n  }\n  function createElement(tag, typeExtension) {\n    if (tag) {\n      tag = tag.toLowerCase();\n    }\n    if (typeExtension) {\n      typeExtension = typeExtension.toLowerCase();\n    }\n    var definition = getRegisteredDefinition(typeExtension || tag);\n    if (definition) {\n      if (tag == definition.tag && typeExtension == definition.is) {\n        return new definition.ctor();\n      }\n      if (!typeExtension && !definition.is) {\n        return new definition.ctor();\n      }\n    }\n    var element;\n    if (typeExtension) {\n      element = createElement(tag);\n      element.setAttribute(\"is\", typeExtension);\n      return element;\n    }\n    element = domCreateElement(tag);\n    if (tag.indexOf(\"-\") >= 0) {\n      implementPrototype(element, HTMLElement);\n    }\n    return element;\n  }\n  var domCreateElement = document.createElement.bind(document);\n  var domCreateElementNS = document.createElementNS.bind(document);\n  var isInstance;\n  if (!Object.__proto__ && !useNative) {\n    isInstance = function(obj, ctor) {\n      if (obj instanceof ctor) {\n        return true;\n      }\n      var p = obj;\n      while (p) {\n        if (p === ctor.prototype) {\n          return true;\n        }\n        p = p.__proto__;\n      }\n      return false;\n    };\n  } else {\n    isInstance = function(obj, base) {\n      return obj instanceof base;\n    };\n  }\n  function wrapDomMethodToForceUpgrade(obj, methodName) {\n    var orig = obj[methodName];\n    obj[methodName] = function() {\n      var n = orig.apply(this, arguments);\n      upgradeAll(n);\n      return n;\n    };\n  }\n  wrapDomMethodToForceUpgrade(Node.prototype, \"cloneNode\");\n  wrapDomMethodToForceUpgrade(document, \"importNode\");\n  if (isIE) {\n    (function() {\n      var importNode = document.importNode;\n      document.importNode = function() {\n        var n = importNode.apply(document, arguments);\n        if (n.nodeType == n.DOCUMENT_FRAGMENT_NODE) {\n          var f = document.createDocumentFragment();\n          f.appendChild(n);\n          return f;\n        } else {\n          return n;\n        }\n      };\n    })();\n  }\n  document.registerElement = register;\n  document.createElement = createElement;\n  document.createElementNS = createElementNS;\n  scope.registry = registry;\n  scope.instanceof = isInstance;\n  scope.reservedTagList = reservedTagList;\n  scope.getRegisteredDefinition = getRegisteredDefinition;\n  document.register = document.registerElement;\n});\n\n(function(scope) {\n  var useNative = scope.useNative;\n  var initializeModules = scope.initializeModules;\n  var isIE = scope.isIE;\n  if (useNative) {\n    var nop = function() {};\n    scope.watchShadow = nop;\n    scope.upgrade = nop;\n    scope.upgradeAll = nop;\n    scope.upgradeDocumentTree = nop;\n    scope.upgradeSubtree = nop;\n    scope.takeRecords = nop;\n    scope.instanceof = function(obj, base) {\n      return obj instanceof base;\n    };\n  } else {\n    initializeModules();\n  }\n  var upgradeDocumentTree = scope.upgradeDocumentTree;\n  var upgradeDocument = scope.upgradeDocument;\n  if (!window.wrap) {\n    if (window.ShadowDOMPolyfill) {\n      window.wrap = window.ShadowDOMPolyfill.wrapIfNeeded;\n      window.unwrap = window.ShadowDOMPolyfill.unwrapIfNeeded;\n    } else {\n      window.wrap = window.unwrap = function(node) {\n        return node;\n      };\n    }\n  }\n  if (window.HTMLImports) {\n    window.HTMLImports.__importsParsingHook = function(elt) {\n      if (elt.import) {\n        upgradeDocument(wrap(elt.import));\n      }\n    };\n  }\n  function bootstrap() {\n    upgradeDocumentTree(window.wrap(document));\n    window.CustomElements.ready = true;\n    var requestAnimationFrame = window.requestAnimationFrame || function(f) {\n      setTimeout(f, 16);\n    };\n    requestAnimationFrame(function() {\n      setTimeout(function() {\n        window.CustomElements.readyTime = Date.now();\n        if (window.HTMLImports) {\n          window.CustomElements.elapsed = window.CustomElements.readyTime - window.HTMLImports.readyTime;\n        }\n        document.dispatchEvent(new CustomEvent(\"WebComponentsReady\", {\n          bubbles: true\n        }));\n      });\n    });\n  }\n  if (document.readyState === \"complete\" || scope.flags.eager) {\n    bootstrap();\n  } else if (document.readyState === \"interactive\" && !window.attachEvent && (!window.HTMLImports || window.HTMLImports.ready)) {\n    bootstrap();\n  } else {\n    var loadEvent = window.HTMLImports && !window.HTMLImports.ready ? \"HTMLImportsLoaded\" : \"DOMContentLoaded\";\n    window.addEventListener(loadEvent, bootstrap);\n  }\n})(window.CustomElements);\n\n(function(scope) {\n  var style = document.createElement(\"style\");\n  style.textContent = \"\" + \"body {\" + \"transition: opacity ease-in 0.2s;\" + \" } \\n\" + \"body[unresolved] {\" + \"opacity: 0; display: block; overflow: hidden; position: relative;\" + \" } \\n\";\n  var head = document.querySelector(\"head\");\n  head.insertBefore(style, head.firstChild);\n})(window.WebComponents);","(function () {\n  var dropdownProto = Object.create(HTMLElement.prototype);\n\n  var dropdownButtonTemplate = '<button class=\"btn dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"></button>';\n  var dropdownAnchorTemplate = '<a class=\"dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"></a>';\n  var iconTemplate = '<span class=\"caret\"></span>';\n\n  var isSafari = navigator.vendor && navigator.vendor.indexOf('Apple') > -1 &&\n                 navigator.userAgent && !navigator.userAgent.match('CriOS');\n\n  dropdownProto.createdCallback = function () {\n    if (this.getAttribute(\"example\")) {\n      this.removeAttribute(\"example\");\n      return;\n    }\n    this.prepContent();\n    this.classList.add('dropdown');\n    this.animating = false;\n    this.open = false;\n    this.buttonClass = ['btn-default'];\n    this.maxRetries = 10; //will check this many times to see if it can work if DOM rendering slowly\n  };\n\n  dropdownProto.prepContent = function () {\n    if (!this.children.length) return;\n    if (this.getElementsByClassName('dropdown-toggle').length) {\n      this.button = this.getElementsByClassName('dropdown-toggle')[0];\n      this.list = this.children[0];\n      return;\n    }\n    var temp = document.createElement('DIV');\n    this.list = this.children[0];\n    this.list.classList.add('dropdown-menu');\n    if (this.hasAttribute(\"button-class\")) {\n      this.buttonClass = this.getAttribute(\"button-class\").split(' ');\n    }\n    if (this.hasAttribute(\"title\")) {\n      temp.innerHTML = dropdownButtonTemplate;\n      temp.children[0].innerHTML = this.getAttribute(\"title\");\n      temp.children[0].classList.add.apply(temp.children[0].classList, this.buttonClass);\n    } else {\n      temp.innerHTML = dropdownAnchorTemplate;\n    }\n    this.button = temp.children[0];\n    this.button.innerHTML += iconTemplate;\n    if (this.hasAttribute(\"icon\")) {\n      this.button.getElementsByTagName(\"span\")[0].setAttribute(\"class\", this.getAttribute(\"icon\"));\n    }\n    if (this.hasAttribute(\"id\")) {\n      var id = this.getAttribute(\"id\") + \"-button\";\n      this.button.setAttribute('id', id);\n      this.list.setAttribute('aria-labelledby', id);\n    }\n    this.appendChild(this.button);\n  };\n    \n  dropdownProto.attachedCallback = function () {\n    if (!this.list) {\n      if (!this.children.length) {\n        this.addEventListener('DOMNodeInserted', prepAll.bind(this));\n        return;\n      }\n      this.prepContent();\n    }\n    this.addEventListener('click', handleClick.bind(this));\n    document.addEventListener('click', this.closeDropdown.bind(this));\n    this.list.addEventListener(\"transitionend\", this.listAnimated.bind(this));\n    this.list.addEventListener(\"webkitTransitionEnd\", this.listAnimated.bind(this));\n    this.list.addEventListener(\"MSTransitionEnd\", this.listAnimated.bind(this), false);\n    this.list.addEventListener(\"otransitionend\", this.listAnimated.bind(this), false);\n  };\n\n  function prepAll() {\n    this.removeEventListener('DOMNodeInserted', prepAll);\n    this.prepContent();\n    this.attachedCallback();\n  }\n\n\n  dropdownProto.removedCallback = function () {\n    this.removeEventListener('click', handleClick);\n    document.removeEventListener('click', this.closeDropdown);\n    this.list.removeEventListener(\"transitionend\", this.listAnimated);\n    this.list.removeEventListener(\"webkitTransitionEnd\", this.listAnimated);\n    this.list.removeEventListener(\"MSTransitionEnd\", this.listAnimated, false);\n    this.list.removeEventListener(\"otransitionend\", this.listAnimated, false);\n  };\n\n  dropdownProto.attributeChangedCallback = function (name, oldVal, newVal) {\n    if (!this.children.length) return;\n    switch (name) {\n      case \"title\":\n        var icon = this.button.getElementsByTagName(\"span\")[0];\n        this.button.innerHTML = newVal;\n        this.button.appendChild(icon);\n        break;\n      case \"icon\":\n        this.button.getElementsByTagName(\"span\")[0].setAttribute(\"class\", newVal);\n        break;\n      case \"button-class\":\n        this.button.classList.remove.apply(this.button.classList, this.buttonClass);\n        this.buttonClass = newVal.split(' ');\n        this.button.classList.add.apply(this.button.classList, this.buttonClass);\n        break;\n    }\n  };\n\n  function handleClick(e) {\n    e.stopPropagation();\n    if (insideElementWithClass('dropdown-toggle', e.target)) {\n      this.dropdown();\n    }\n\n    function insideElementWithClass(search, el) {\n      if (el.classList.contains(search)) return true;\n      if (!el.parentElement) return false;\n      return insideElementWithClass(search, el.parentElement);\n    }\n  }\n\n  function hasHeightTransition(el) {\n    return [\"height\", \"all\"].indexOf(window.getComputedStyle(el).transitionProperty) != -1;\n  }\n\n  dropdownProto.dropdown = function () {\n    if (this.open) {\n      this.closeDropdown();\n      return;\n    }\n    this.openDropdown();\n  };\n\n  dropdownProto.closeDropdown = function () {\n    if (this.animating || !this.open) return;\n    this.animating = true;\n    this.open = false;\n    this.classList.add('open'); //to coexist with jQuery/bootstrap.js\n    this.list.style.height = this.list.offsetHeight + \"px\";\n    this.button.setAttribute('aria-expanded', false);\n    var wait = window.setInterval(function () {\n      if (!hasHeightTransition(this.list)) return;\n      window.clearInterval(wait);\n      this.list.style.height = \"0px\";\n    }.bind(this), 5);\n  };\n\n  dropdownProto.openDropdown = function () {\n    if (this.animating || this.open) return;\n    this.animating = true;\n    this.open = true;\n    this.list.style.transition = \"none\";\n    this.classList.add(\"open\");\n    var height = this.list.offsetHeight + \"px\";\n    this.list.style.height = \"0px\";\n    this.list.style.transition = null;\n    this.button.setAttribute('aria-expanded', true);\n    var wait = window.setInterval(function () {\n      if (!hasHeightTransition(this.list)) return;\n      window.clearInterval(wait);\n      this.list.style.height = height;\n    }.bind(this), 5);\n  };\n\n  dropdownProto.listAnimated = function () {\n    if (this.list.style.height == \"0px\") {\n      this.classList.remove('open');\n      this.list.style.removeProperty(\"height\");\n    }\n    else if (!isSafari) {\n      this.list.style.removeProperty(\"height\");\n    } \n    this.animating = false;\n  };\n\n  var dropdown = document.registerElement('bp-dropdown', {\n    prototype: dropdownProto\n  });\n})();\n"]}